language: android

sudo: false

jdk: oraclejdk8

android:
 components:
    - tools
    - build-tools-24.0.2
    - android-22
    - android-24
    - sys-img-armeabi-v7a-android-22
    - extra-android-m2repository

before_script:
  # Create and start emulator
  - echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
  - emulator -avd test -no-skin -no-audio -no-window &
  - android-wait-for-emulator
  - adb shell input keyevent 82 &

script: ./gradlew connectedAndroidTest

addons:
  sonarqube:
    token:
      secure: "aNOKxAz6l3Ze0Kz/3S2a67/j2kPUskOBxiXX0bf9gvnRqA7m/IQElLFdIIReZBiJmBZxR7CUjZcySZ+lL2mogTGkuKxOrfcanyWqfs4eRSLN2gVBNZYss44SYhHplb5jGivCkZyjMn6BX4+FjEqur3AlnmJCMK8hYKDHzg/La9w/TXX6WzxaPpRwBYQs4k5lNvlbDWkB2uvvbVtNLKQLBTzHLbisiTjcHQM9twEysrZUnEP4sk/PB+ZLMiUkDQ/9+hDMyesp5wHKedIwKegFhzTqHwEobJnNVAEj3zqTyuQH/0MAhJ3s2iT+KqI62G2Wf/NBplks7HrZJkHrdU8NsrECATkA0ZaZNN2CAP667ti9/ONsKZZzyCGDWuNohr6dNxh1EwXLzjvDmXmz8aZXWr/wJuk9RHHTyX3oIsxGl84wkIHn3tJLfEdBD20FqX4OT62JcdvNwY/wbo37sUnhOR3NvrYkcqkRG7lHtFMCQ2pvzauHI2kVHzat7O/PWafheIYZLdcJJYljng5sVcG6xhGvREQMIcOTGvvhzOR1j9/jRukNf5MqjohoD54qplXVbisUDewwNyGu1dminDdssn5NZKuTmg1bZ8plqymyhvehoOj2uwvi7xUrdC8msnkmlD+zs7xCyj7AWrJvsG29GWyV2O0qgjnN74+5cUTpk5c="
      
script:
- sonar-scanner -X

cache:
  directories:
    - '$HOME/.sonar/cache'
    - '$HOME/.gradle/caches/2.8'
    - '$HOME/.gradle/caches/jars-1'
    - '$HOME/.gradle/daemon'
    - '$HOME/.gradle/native'
    - '$HOME/.gradle/wrapper'


notifications:
email: false
